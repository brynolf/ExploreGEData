

dt = 0.1e-3;
t = (0:dt:60e-3)';
te = 30e-3;

c_case = 2;
switch (c_case)
    case 1
        g = gwf_create_trap(t, 1e-3, 1e-3, 10e-3, 80e-3) + ...
            gwf_create_trap(t, 35e-3, 1e-3, 10e-3, 80e-3);
        
        rf = (t < (te/2)) * 2 - 1;
    case 2

        g = ...
            gwf_create_trap(t, 1e-3, 0.8e-3, 1.6e-3, 40e-3) - ...
            gwf_create_trap(t, 4e-3, 0.8e-3, 1.6e-3, 40e-3) + ...
            gwf_create_trap(t, 7e-3, 0.8e-3, 1.6e-3, 40e-3) - ...
            gwf_create_trap(t, 10e-3, 0.8e-3, 1.6e-3, 40e-3) + ...
            gwf_create_trap(t, 13e-3, 0.8e-3, 1.6e-3, 40e-3) - ...
            gwf_create_trap(t, 16e-3, 0.8e-3, 1.6e-3, 40e-3) + ...
            gwf_create_trap(t, 19e-3, 0.8e-3, 1.6e-3, 40e-3) - ...
            gwf_create_trap(t, 22e-3, 0.8e-3, 1.6e-3, 40e-3) + ...
            gwf_create_trap(t, 25e-3, 0.8e-3, 1.6e-3, 40e-3) - ...
            gwf_create_trap(t, 28e-3, 0.8e-3, 1.6e-3, 40e-3) + ...
            gwf_create_trap(t, 31e-3, 0.8e-3, 1.6e-3, 40e-3) - ...
            gwf_create_trap(t, 34e-3, 0.8e-3, 1.6e-3, 40e-3) + ...
            gwf_create_trap(t, 37e-3, 0.8e-3, 1.6e-3, 40e-3) - ...
            gwf_create_trap(t, 40e-3, 0.8e-3, 1.6e-3, 40e-3) + ...
            0;
            
        rf = ones(size(g));
        
        dt = dt / 2;

end

g = cat(2, g, zeros(numel(g), 2));

gwf_plot_all(g, rf, dt);